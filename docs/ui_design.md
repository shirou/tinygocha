# UI設計

## 画面レイアウト設計

### 基本画面サイズ
- **解像度**: 1024x768 (4:3比率)
- **最小解像度**: 800x600
- **スケーリング**: 自動調整対応

## 各シーンのUI詳細

### 1. タイトル画面 UI

```
┌─────────────────────────────────────┐
│                                     │
│         ゴチャキャラバトル            │
│            (大きなタイトル)           │
│                                     │
│              [戦闘開始]              │
│                                     │
│               [終了]                │
│                                     │
│                                     │
│        Version 0.1.0 (Demo)        │
└─────────────────────────────────────┘
```

**要素**:
- タイトルロゴ（中央上部）
- メニューボタン（中央）
- バージョン情報（右下）

### 2. 軍勢設定画面 UI

```
┌─────────────────────────────────────┐
│ ステージ選択    │  軍勢A設定         │
│ ┌─────────────┐ │ ┌───────────────┐ │
│ │ [森の戦い]   │ │ │グループ1      │ │
│ │ [山岳要塞]   │ │ │ リーダー:歩兵  │ │
│ │ [平原決戦]   │ │ │ 一般兵:弓兵x3 │ │
│ └─────────────┘ │ └───────────────┘ │
│                 │                   │
│ 地形効果:       │ [グループ追加]     │
│ ・移動速度-30%   │                   │
│ ・弓兵攻撃+20%   │                   │
├─────────────────┼───────────────────┤
│ プリセット軍勢   │  軍勢B設定         │
│ [バランス型]     │ (軍勢Aと同様)      │
│ [攻撃重視]       │                   │
│ [防御重視]       │                   │
├─────────────────┴───────────────────┤
│        [戻る]     [戦闘開始]         │
└─────────────────────────────────────┘
```

**要素**:
- 4分割レイアウト
- ステージ選択（左上）
- 軍勢A設定（右上）
- プリセット選択（左下）
- 軍勢B設定（右下）
- 操作ボタン（下部）

### 3. 配置画面 UI

```
┌─────────────────────────────────────┐
│ 配置フェーズ - 軍勢A                 │
├─────────────────────────────────────┤
│                                     │
│    ●     ●     ●    (配置ポイント)   │
│                                     │
│         [ステージマップ]              │
│                                     │
│    ●     ●     ●                   │
│                                     │
├─────────────────────────────────────┤
│ 配置待ち: [グループ1] [グループ2]     │
│          [やり直し] [配置完了]       │
└─────────────────────────────────────┘
```

**要素**:
- ステージマップ（中央）
- 配置ポイント表示
- 配置待ちグループ一覧（下部）
- 操作ボタン（下部）

### 4. 戦闘画面 UI

```
┌─────────────────────────────────────┐
│ 時間:05:00 │軍勢A■■■□□│軍勢B■■□□□│
├─────────────────────────────────────┤
│                                     │
│                                     │
│            [戦闘フィールド]           │
│                                     │
│                                     │
├─────────────────────────────────────┤
│ミニマップ │ 選択ユニット情報          │
│┌───────┐│ 歩兵リーダー              │
││   ●   ││ HP: 85/100               │
││ ● ○ ● ││ 攻撃力: 15               │
││   ●   ││                         │
│└───────┘│           [一時停止]     │
└─────────────────────────────────────┘
```

**要素**:
- 上部ステータスバー（時間、戦力ゲージ）
- メイン戦闘フィールド（中央）
- ミニマップ（左下）
- ユニット情報（右下）
- 一時停止ボタン（右下）

### 5. 結果画面 UI

```
┌─────────────────────────────────────┐
│                                     │
│            軍勢A 勝利！              │
│                                     │
│ ┌─────────────┬─────────────────────┐ │
│ │ 戦闘統計     │ MVP                │ │
│ │ 戦闘時間:3:45│ 弓兵リーダー        │ │
│ │ 軍勢A生存:8  │ 撃破数: 5          │ │
│ │ 軍勢B生存:2  │ 与ダメージ: 450    │ │
│ │ 総ダメージ   │                   │ │
│ │ A:1200 B:800│                   │ │
│ └─────────────┴─────────────────────┘ │
│                                     │
│    [再戦] [軍勢変更] [タイトル]      │
│                                     │
└─────────────────────────────────────┘
```

**要素**:
- 勝利表示（中央上部）
- 戦闘統計（左下）
- MVP情報（右下）
- 操作ボタン（下部）

## UI要素の詳細設計

### ボタン設計
```go
type Button struct {
    Text     string
    Position Vector2D
    Size     Vector2D
    Style    ButtonStyle
    OnClick  func()
    Enabled  bool
    Hovered  bool
}

type ButtonStyle struct {
    BackgroundColor color.Color
    TextColor      color.Color
    BorderColor    color.Color
    Font           *truetype.Font
    FontSize       int
}
```

### 情報パネル設計
```go
type InfoPanel struct {
    Title    string
    Content  []string
    Position Vector2D
    Size     Vector2D
    Visible  bool
}
```

### プログレスバー設計
```go
type ProgressBar struct {
    Current  float64
    Maximum  float64
    Position Vector2D
    Size     Vector2D
    Color    color.Color
    Label    string
}
```

## カラーパレット

### 基本色
- **背景色**: #2C3E50 (ダークブルーグレー)
- **パネル色**: #34495E (ライトブルーグレー)
- **テキスト色**: #ECF0F1 (ライトグレー)
- **アクセント色**: #3498DB (ブルー)

### 軍勢色
- **軍勢A**: #E74C3C (レッド)
- **軍勢B**: #2980B9 (ブルー)

### ステータス色
- **HP満タン**: #27AE60 (グリーン)
- **HP中程度**: #F39C12 (オレンジ)
- **HP危険**: #E74C3C (レッド)

## フォント設計

### フォントサイズ
- **タイトル**: 32px
- **見出し**: 24px
- **本文**: 16px
- **小文字**: 12px

### フォント種類
- **メイン**: システムフォント（日本語対応）
- **数値**: 等幅フォント

## レスポンシブ対応

### 画面サイズ対応
```go
type UIScale struct {
    Scale      float64
    MinWidth   int
    MinHeight  int
    BaseWidth  int
    BaseHeight int
}

func (ui *UIScale) CalculateScale(screenWidth, screenHeight int) {
    scaleX := float64(screenWidth) / float64(ui.BaseWidth)
    scaleY := float64(screenHeight) / float64(ui.BaseHeight)
    ui.Scale = math.Min(scaleX, scaleY)
}
```

### UI要素の配置
- 相対位置での配置
- 画面サイズに応じた自動調整
- 最小サイズの保証

## アクセシビリティ

### キーボード操作
- Tabキーでの要素移動
- Enterキーでの決定
- Escapeキーでの戻る/キャンセル

### 視覚的配慮
- 十分なコントラスト比
- 色だけに依存しない情報表示
- 読みやすいフォントサイズ

## アニメーション効果

### ボタンホバー効果
- 色の変化
- 軽微なサイズ変更

### シーン遷移
- フェードイン・フェードアウト
- スライド効果

### 戦闘UI
- HPバーの滑らかな変化
- ダメージ数値のポップアップ
