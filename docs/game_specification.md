# ゴチャキャラバトル - ゲーム仕様書

## 概要
Ebitengineを使用したリアルタイム戦術バトルゲーム。
デモ版では戦闘フェイズのみを実装する。

## 基本システム

### 軍勢構成
- **対戦形式**: 軍勢A vs 軍勢B の1対1戦闘
- **軍勢構成**: 各軍勢は最大10グループまで保有可能
- **グループ構成**: 各グループはリーダー1人 + 一般兵9人（計10人）

### 戦闘システム
- **進行方式**: リアルタイム戦闘
- **行動方式**: 同時行動（全ユニットが同時に行動）
- **配置方式**: 自由配置（グリッドなし）
- **移動単位**: ユニット個別移動

## ユニットシステム

### ユニット種別
- **近接系**: 高HP・高防御・短射程
- **弓系**: 中HP・低防御・長射程
- **魔術師系**: 低HP・中防御・長射程・範囲攻撃
- **拡張性**: 将来的に自由に種別追加可能

### 基本ステータス
- **HP**: ヒットポイント
- **攻撃力**: 与ダメージ
- **防御力**: 被ダメージ軽減
- **移動速度**: 移動の速さ
- **射程**: 攻撃可能距離
- **魔力**: 魔法攻撃力・魔法使用に関連

### データ管理
- **形式**: TOML形式
- **読み込み**: テキストファイルからユニットステータス読み込み
- **拡張性**: 設定ファイル編集で新ユニット追加可能

## リーダーシップシステム

### 追従システム
- **基本動作**: リーダー移動時、一般兵が自動追従
- **隊形維持**: 各グループごとに設定可能な隊形を維持
- **初期実装**: リーダー中心の円形隊形のみ
- **将来拡張**: 横列、縦列、楔形などの隊形追加予定

### リーダー戦死時の処理
- **逃走開始**: リーダー戦死と同時に一般兵は画面端へ逃走
- **逃走中の扱い**: 逃走中も攻撃対象、移動速度は通常と同じ
- **逃走成功**: 画面端到達で戦線離脱（そのユニットは戦闘から除外）

## 配置システム

### 初期配置
- **配置制限**: ステージごとに用意された特定の配置ポイントのみ使用可能
- **配置単位**: グループ単位で配置
- **戦略性**: 配置ポイント選択による戦術的優位性

## ステージ・地形システム

### ステージ種別
- 森
- 山
- 平原
- 城塞
- 街
- その他（拡張可能）

### 地形効果（例）
- **森**: 弓系に有利、移動速度低下
- **山**: 防御力アップ、魔術師に有利
- **平原**: 移動速度アップ
- **拡張性**: テキストファイルで地形効果追加可能

## 魔法システム（将来実装）

### 魔法の特性
- **射程**: 魔法ごとに設定可能な攻撃距離
- **爆発範囲**: 範囲攻撃の効果範囲
- **魔力消費**: 魔法使用時の魔力消費
- **拡張性**: 多様な魔法効果を後から追加可能

## 勝利条件

### 勝利判定
1. **即座勝利**: 敵軍全滅
2. **時間制限**: 一定時間経過後の戦力差による判定

## 技術仕様

### 使用技術
- **ゲームエンジン**: Ebitengine
- **言語**: Go
- **設定ファイル**: TOML形式

### 設計方針
- **データ駆動**: ユニット、地形効果等はすべて外部ファイルで管理
- **拡張性**: 新要素を容易に追加できる設計
- **モジュール性**: 各システムを独立したモジュールとして実装
